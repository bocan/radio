<!--
MIT License

Copyright (c) 2025 Chris Funderburg
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="The best community radio streams for late nights, working, or just getting away from commercial radio.">
  <title>The Liminal Dial</title>
  <link rel="stylesheet" href="radio.css">
  <meta name="keywords" content="radio, stations, nighttime, stream, streaming, liminal, eerie, community radio">
  <meta name="author" content="Chris Funderburg">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://chris.funderburg.me/radio/">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Chris Funderburg ‚Äî Radio">
  <meta property="og:locale" content="en_GB">
  <meta property="og:title" content="The Liminal Dial">
  <meta property="og:description" content="The best community radio streams for late nights, working, or just getting away from commercial radio.">
  <meta property="og:url" content="https://chris.funderburg.me/radio/">
  <meta property="og:image" content="https://chris.funderburg.me/radio/preview.jpg">
  <meta property="og:image:alt" content="A screenshot of the radio stations featured on the site">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="626">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="The Liminal Dial">
  <meta name="twitter:description" content="The best community radio streams for late nights, working, or just getting away from commercial radio.">
  <meta name="twitter:image" content="https://chris.funderburg.me/radio/preview.jpg">

  <!-- Mastodon / Fediverse -->
  <link rel="me" href="https://infosec.exchange/@bocan">
  <meta name="fediverse:creator" content="@bocan@infosec.exchange">

  <!-- Indyweb -->
  <link rel="me" href="https://github.com/bocan" />
  <link rel="me" href="https://chris.funderburg.me" />

  <!-- Browser UI polish -->
  <meta name="theme-color" content="#0b0f14" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#f7f9fc" media="(prefers-color-scheme: light)">
  <meta name="color-scheme" content="light dark">

  <!-- Autumn Leaves -->
  <link rel="stylesheet" href="autumn-leaves.css">

  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
</head>
<body>
  <main>

  <!-- Falling Leaves -->
  <canvas id="autumn-leaves" aria-hidden="true"></canvas>

  <div class="container">
    <header>
      <div class="logo" aria-hidden="true"></div>
      <h1>The Liminal Dial - 12 Community Radio Streams for Focus, Sleeplessness, and Drift</h1>
        <!-- Theme toggle button -->
  <button class="icon theme-toggle" id="themeToggle" aria-label="Toggle theme" title="Toggle theme">
    <!-- Sun/Moon combo (we‚Äôll swap via JS) -->
    <svg id="iconSun"  xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" style="display:none">
      <path d="M6.76 4.84l-1.8-1.79L3.17 4.84l1.79 1.8 1.8-1.8zM1 13h3v-2H1v2zm10 10h2v-3h-2v3zm9.83-18.16l-1.79-1.79-1.8 1.79 1.8 1.8 1.79-1.8zM20 13h3v-2h-3v2zm-8-7a5 5 0 100 10 5 5 0 000-10zm7.24 12.16l1.8 1.79 1.79-1.79-1.79-1.8-1.8 1.8zM4.84 17.24l-1.79 1.8 1.79 1.79 1.8-1.79-1.8-1.8z"/>
    </svg>
    <svg id="iconMoon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
      <path d="M21.75 15.5A9.5 9.5 0 1111.5 2a.75.75 0 01.64 1.12 7.999 7.999 0 009.74 11.26.75.75 0 01-.13 1.12z"/>
    </svg>
  </button>
    </header>
    <p class="hint">Welcome to my hand-picked collection of 12 radio streams. They have a wild assortment of music genres, news, and talk, but like most community / public / internet stations they have an eerie, liminal, <a href="https://www.welcometonightvale.com/" target=_blank>Nightvale</a>-like aesthetic. Like maybe they're broadcasting from a 1-person pocket universe, and you're the only listener. üòâ</p>
    <p><br></p>

    <div id="stations" class="grid" role="list" aria-label="Station list"></div>

    <p class="hint">
    Tips: Press <kbd>Space</kbd> to Play/Pause; <kbd>‚Üê/‚Üí</kbd> to adjust volume.<br>This radio page is <a href="https://github.com/bocan/radio" target=_blank>open source</a> so feel free to use it to build your own. If you enjoy the code or any of the stations, feel free to <a href="https://buymeacoffee.com/bocan" target=_blank>buy me a coffee</a>! Donations support hosting costs and any surplus  will be split equally between these stations - as long as they have a donation method on their site.
    </p>
  </div>

  <!-- Sticky Player UI -->
  <div class="player" role="region" aria-label="Player">
    <div class="player-inner">
      <button class="icon" id="btnPlay" aria-label="Play/Pause" title="Play/Pause">
        <!-- Play/Pause svgs‚Ä¶ -->
        <svg id="icoPlay" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
        <svg id="icoPause" style="display:none" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M6 5h4v14H6zm8 0h4v14h-4z"/></svg>
      </button>

      <img id="npArt" class="np-art" alt="Album art" hidden>

      <div class="np">
        <div class="label">Now Playing</div>
        <div class="value" id="nowPlaying">‚Äî</div>
      </div>

      <!-- NEW: optional rich info -->
      <details id="npDetails" class="np-details" hidden>
        <summary aria-label="More info">‚ÑπÔ∏é Info</summary>
        <div id="npRich"></div>
      </details>

      <div class="vol-wrap" title="Mute/Unmute">
        <!-- Mute/Unmute toggle -->
        <button id="btnMute" class="icon" aria-label="Mute/Unmute" aria-pressed="false" type="button">
          <!-- Unmuted -->
          <svg id="icoUnmute" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
               viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 10v4h4l5 5V5L7 10H3z"/>
          </svg>
          <!-- Muted -->
          <svg id="icoMute" style="display:none" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
               viewBox="0 0 24 24" fill="currentColor">
            <path d="M16.5 12L19 14.5l1.5-1.5L18 10.5l2.5-2.5L19 6.5 16.5 9 14 6.5 12.5 8l2.5 2.5-2.5 2.5L14 14.5z"/>
            <path d="M3 10v4h4l5 5V5L7 10H3z"/>
          </svg>
        </button>

        <!-- Volume slider -->
        <input aria-label="Volume" id="volume" type="range" min="0" max="1" step="0.01">
      </div>

      <!-- Disclaimer link -->
      <a href="#" id="disclaimerLink" class="disclaimer-link">Disclaimer</a>

    </div>
  </div>

  <audio id="audio" preload="none" crossorigin="anonymous"></audio>

  <script src="lightdark.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="caroline.js"></script>
  <script src="radio.js"></script>

  <script>
  (function () {
    // Ensure STATIONS is defined (top-level const is fine)
    if (typeof STATIONS === 'undefined') return;

    const items = STATIONS.map((s, idx) => {
      const stream = (s.streams && s.streams[0]) || {};
      const desc = stripHtml(s.description || '');
      const site = extractFirstHref(s.description) || undefined;

      return {
        "@type": "ListItem",
        "position": idx + 1,
        "item": {
          "@type": "AudioObject",
          "name": s.name,
          "url": site,
          "contentUrl": stream.url || undefined,
          "encodingFormat": stream.type || undefined,
          "description": desc || undefined,

          // ‚úÖ Put isLiveBroadcast here, inside a BroadcastEvent:
          "publication": {
            "@type": "BroadcastEvent",
            "isLiveBroadcast": true
            // Optional if you have them:
            // "startDate": "2025-09-13T00:00:00Z",
            // "publishedOn": { "@type": "RadioBroadcastService", "name": s.name }
          }
        }
      };
    });

    const data = {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "name": "Late-Night Community Radio Streams",
      "itemListElement": items
    };

    const el = document.createElement('script');
    el.type = 'application/ld+json';
    el.text = JSON.stringify(data);
    document.head.appendChild(el);

    function stripHtml(html) {
      const d = document.createElement('div');
      d.innerHTML = html;
      return (d.textContent || '').trim();
    }
    function extractFirstHref(html) {
      if (!html) return null;
      const d = document.createElement('div');
      d.innerHTML = html;
      const a = d.querySelector('a[href]');
      return a ? a.href : null;
    }
  })();
  </script>


  <!-- Falling Leaves -->
  <script type="module" src="autumn-leaves.js"></script>

  </main>

  <div id="disclaimerModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="disclaimerTitle">
      <h2 id="disclaimerTitle">Disclaimer</h2>
        <ul>
          <li>This site embeds and links to publicly available radio streams operated by their respective broadcasters.</li>
          <li>All audio content, metadata, and artwork remain the property of the original stations and their rights holders.</li>
          <li>No streams are stored or re-hosted here ‚Äî this page is purely a curated listening interface.</li>
          <li>Donations support hosting costs; any surplus will be shared with the featured stations where possible.</li>
          <li>If you operate one of the listed stations and would prefer not to be included, please <a href="mailto:chris@funderburg.me">contact me</a>.
        </ul>
      <button id="closeDisclaimer" aria-label="Close disclaimer">Close</button>
    </div>
  </div>
  <script src="footer.js"></script>
  <div id="hcard-Chris-Funderburg" class="h-card vcard" style="display: none;">
    <span class="p-name">Chris Funderburg</span>
    <span class="p-given-name">Chris</span>
    <span class="p-family-name">Funderburg</span>
    <span class="p-nickname">bocan</span> (IRC)
    <div class="p-org">Cloud Cauldron Limited</div>
    <img class="u-photo" src="https://chris.funderburg.me/me.jpg" alt="Chris Funderburg">
    <a class="u-url" rel="me" href="https://chris.funderburg.me/radio/">w</a>,
    <a class="u-email" href="mailto:chris@funderburg.me">e</a>
    <span class="p-locality">Newbury</span>,
    <div class="p-country-name">United Kingdom</div>
    <div class="p-category">consultant,freelance,devops,platform engineer,blogger</div>
    <div class="p-note">GenX ¬∑ British Texan ¬∑ Cloud Architect ¬∑ Principal DevOps Engineer ¬∑ Charity Trustee ¬∑ Dad ¬∑ Old School Geek ¬∑ Environmentalist ¬∑ Gardener ¬∑ Pagan Druid ¬∑ Gamer ¬∑ Chaotic Neutral</div>
</div>
</body>
</html>
